{"remainingRequest":"/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/node_modules/babel-loader/lib/index.js!/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/src/store.js","dependencies":[{"path":"/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/src/store.js","mtime":1559695340741},{"path":"/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/yanweilin/Desktop/VUE\\u9879\\u76EE/xiangmu6.3vue/vuejwt/vuejwt/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { loginApi, isloginApi } from \"./api/user\";\nimport util from \"./libs/local\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    nickname: ''\n  },\n  mutations: {\n    setnickname: function setnickname(state, payload) {\n      state.nickname = payload;\n    }\n  },\n  actions: {\n    // 登录的action\n    tologin: function () {\n      var _tologin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref, _ref2) {\n        var commit, user, pass, _ref3, token, nickname;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit;\n                user = _ref2.user, pass = _ref2.pass;\n                _context.next = 4;\n                return loginApi(user, pass);\n\n              case 4:\n                _ref3 = _context.sent;\n                token = _ref3.token;\n                nickname = _ref3.nickname;\n                // token 存在本地存储\n                util.setlocal('token', token);\n                commit('setnickname', nickname);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function tologin(_x, _x2) {\n        return _tologin.apply(this, arguments);\n      }\n\n      return tologin;\n    }(),\n    // 验证是否登录的action\n    valilogin: function () {\n      var _valilogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref4) {\n        var commit, _ref5, nickname, token;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                commit = _ref4.commit;\n                _context2.next = 3;\n                return isloginApi();\n\n              case 3:\n                _ref5 = _context2.sent;\n                nickname = _ref5.nickname;\n                token = _ref5.token;\n                console.log(nickname, token);\n                commit('setnickname', nickname);\n                util.setlocal('token', token);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function valilogin(_x3) {\n        return _valilogin.apply(this, arguments);\n      }\n\n      return valilogin;\n    }()\n  }\n});",{"version":3,"sources":["/Users/yanweilin/Desktop/VUE项目/xiangmu6.3vue/vuejwt/vuejwt/src/store.js"],"names":["Vue","Vuex","loginApi","isloginApi","util","use","Store","state","nickname","mutations","setnickname","payload","actions","tologin","commit","user","pass","token","setlocal","valilogin","console","log"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,QAAT,EAAmBC,UAAnB;AACA,OAAOC,IAAP;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,IAAR;AACA,eAAe,IAAIA,IAAI,CAACK,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADqB;AAI5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGH,KADH,EACUI,OADV,EACmB;AAC1BJ,MAAAA,KAAK,CAACC,QAAN,GAAiBG,OAAjB;AACD;AAHQ,GAJiB;AAS5BC,EAAAA,OAAO,EAAE;AACP;AACMC,IAAAA,OAFC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAESC,gBAAAA,MAFT,QAESA,MAFT;AAEqBC,gBAAAA,IAFrB,SAEqBA,IAFrB,EAE2BC,IAF3B,SAE2BA,IAF3B;AAAA;AAAA,uBAI6Bd,QAAQ,CAACa,IAAD,EAAOC,IAAP,CAJrC;;AAAA;AAAA;AAIGC,gBAAAA,KAJH,SAIGA,KAJH;AAIUT,gBAAAA,QAJV,SAIUA,QAJV;AAKL;AACAJ,gBAAAA,IAAI,CAACc,QAAL,CAAc,OAAd,EAAuBD,KAAvB;AACAH,gBAAAA,MAAM,CAAC,aAAD,EAAgBN,QAAhB,CAAN;;AAPK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AASP;AACMW,IAAAA,SAVC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAUWL,gBAAAA,MAVX,SAUWA,MAVX;AAAA;AAAA,uBAW6BX,UAAU,EAXvC;;AAAA;AAAA;AAWGK,gBAAAA,QAXH,SAWGA,QAXH;AAWaS,gBAAAA,KAXb,SAWaA,KAXb;AAYLG,gBAAAA,OAAO,CAACC,GAAR,CAAYb,QAAZ,EAAsBS,KAAtB;AACAH,gBAAAA,MAAM,CAAC,aAAD,EAAgBN,QAAhB,CAAN;AACAJ,gBAAAA,IAAI,CAACc,QAAL,CAAc,OAAd,EAAuBD,KAAvB;;AAdK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AATmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport { loginApi, isloginApi } from './api/user';\nimport util from './libs/local';\n\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    nickname: '',\n  },\n  mutations: {\n    setnickname(state, payload) {\n      state.nickname = payload;\n    },\n  },\n  actions: {\n    // 登录的action\n    async tologin({ commit }, { user, pass }) {\n      // actions提交登录\n      const { token, nickname } = await loginApi(user, pass);\n      // token 存在本地存储\n      util.setlocal('token', token);\n      commit('setnickname', nickname);\n    },\n    // 验证是否登录的action\n    async valilogin({ commit }) {\n      const { nickname, token } = await isloginApi();\n      console.log(nickname, token);\n      commit('setnickname', nickname);\n      util.setlocal('token', token);\n    },\n  },\n});\n"]}]}