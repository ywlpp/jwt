{"remainingRequest":"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/babel-loader/lib/index.js!/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/src/libs/axios.js","dependencies":[{"path":"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/src/libs/axios.js","mtime":1559634576095},{"path":"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport axios from 'axios';\nimport util from \"./local\";\n\nvar AjaxRuquest =\n/*#__PURE__*/\nfunction () {\n  function AjaxRuquest() {\n    _classCallCheck(this, AjaxRuquest);\n\n    this.baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : '/';\n    this.timeout = 3000;\n  }\n\n  _createClass(AjaxRuquest, [{\n    key: \"merge\",\n    value: function merge(options) {\n      return _objectSpread({\n        baseURL: this.baseURL,\n        timeout: this.timeout\n      }, options);\n    }\n  }, {\n    key: \"setInterceptors\",\n    value: function setInterceptors(instance) {\n      // 设置请求拦截器\n      instance.interceptors.request.use(function (config) {\n        config.headers.authorization = util.getlocal('token');\n        return config;\n      }, function (err) {\n        Promise.reject(err);\n      }); // 设置响应拦截器\n\n      instance.interceptors.response.use(function (res) {\n        return res.data;\n      }, function (err) {\n        Promise.reject(err);\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(options) {\n      var instance = axios.create(); // 把传进来的参数和默认参数进行合并\n\n      var config = this.merge(options); // 设置拦截器\n\n      this.setInterceptors(instance);\n      return instance(config);\n    }\n  }]);\n\n  return AjaxRuquest;\n}();\n\nexport default new AjaxRuquest(); // AjaxRuquest.request({\n// \turl:'/djljd'\n// })",{"version":3,"sources":["/Users/yanweilin/Desktop/xiangmu6.3vue/vuejwt/vuejwt/src/libs/axios.js"],"names":["axios","util","AjaxRuquest","baseURL","process","env","NODE_ENV","timeout","options","instance","interceptors","request","use","config","headers","authorization","getlocal","err","Promise","reject","response","res","data","create","merge","setInterceptors"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP;;IAEMC,W;;;AACJ,yBAAc;AAAA;;AACZ,SAAKC,OAAL,GAAeC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyC,uBAAzC,GAAmE,GAAlF;AACA,SAAKC,OAAL,GAAe,IAAf;AACD;;;;0BAEKC,O,EAAS;AACb;AAASL,QAAAA,OAAO,EAAE,KAAKA,OAAvB;AAAgCI,QAAAA,OAAO,EAAE,KAAKA;AAA9C,SAA0DC,OAA1D;AACD;;;oCAEeC,Q,EAAU;AACxB;AACAA,MAAAA,QAAQ,CAACC,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,UAACC,MAAD,EAAY;AACVA,QAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+Bd,IAAI,CAACe,QAAL,CAAc,OAAd,CAA/B;AACA,eAAOH,MAAP;AACD,OAJH,EAKE,UAACI,GAAD,EAAS;AACPC,QAAAA,OAAO,CAACC,MAAR,CAAeF,GAAf;AACD,OAPH,EAFwB,CAWxB;;AACAR,MAAAA,QAAQ,CAACC,YAAT,CAAsBU,QAAtB,CAA+BR,GAA/B,CACE,UAAAS,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAR;AAAA,OADL,EAEE,UAACL,GAAD,EAAS;AACPC,QAAAA,OAAO,CAACC,MAAR,CAAeF,GAAf;AACD,OAJH;AAMD;;;4BAEOT,O,EAAS;AACf,UAAMC,QAAQ,GAAGT,KAAK,CAACuB,MAAN,EAAjB,CADe,CAEf;;AACA,UAAMV,MAAM,GAAG,KAAKW,KAAL,CAAWhB,OAAX,CAAf,CAHe,CAIf;;AACA,WAAKiB,eAAL,CAAqBhB,QAArB;AACA,aAAOA,QAAQ,CAACI,MAAD,CAAf;AACD;;;;;;AAEH,eAAe,IAAIX,WAAJ,EAAf,C,CACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport util from './local';\n\nclass AjaxRuquest {\n  constructor() {\n    this.baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : '/';\n    this.timeout = 3000;\n  }\n\n  merge(options) {\n    return { baseURL: this.baseURL, timeout: this.timeout, ...options };\n  }\n\n  setInterceptors(instance) {\n    // 设置请求拦截器\n    instance.interceptors.request.use(\n      (config) => {\n        config.headers.authorization = util.getlocal('token');\n        return config;\n      },\n      (err) => {\n        Promise.reject(err);\n      },\n    );\n    // 设置响应拦截器\n    instance.interceptors.response.use(\n      res => res.data,\n      (err) => {\n        Promise.reject(err);\n      },\n    );\n  }\n\n  request(options) {\n    const instance = axios.create();\n    // 把传进来的参数和默认参数进行合并\n    const config = this.merge(options);\n    // 设置拦截器\n    this.setInterceptors(instance);\n    return instance(config);\n  }\n}\nexport default new AjaxRuquest();\n// AjaxRuquest.request({\n// \turl:'/djljd'\n// })"]}]}